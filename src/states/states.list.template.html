<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default states__display">
      <div class="panel-heading states__display--header"></div>
      <div class="panel-body states__display--content">
        <h3 class="headline">{{ statesListCtrl.model.name }}</h3>
        <div class="current-state">
          <p>Current state: </p>
          <p><b>{{ statesListCtrl.model.states[statesListCtrl.model.current_state].name }}</b></p>
        </div>
        <div class="next-state">
          <p>Next state: </p>
          <p><b>{{ statesListCtrl.model.states[statesListCtrl.model.current_state + 1].name }}</b></p>
        </div>
        <div class="button">
          <a class="btn btn-success">Next state</a>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6" ng-if="statesListCtrl.currentUser.admin">
    <div class="panel panel-default states__manager">
      <div class="panel-heading states__manager--header">Manager</div>
      <div class="panel-body">
        <div class="states__manager--buttons">
          <a class="btn btn-warning">Save</a>
          <a class="btn btn-success" ng-click="statesListCtrl.openDialog()">Add state</a>
        </div>
        <ul class="list-group states__list" data-as-sortable data-ng-model="statesListCtrl.states">
          <li class="list-group-item states__list--item" data-as-sortable-item
              ng-repeat="state in statesListCtrl.states">
            <div as-sortable-item-handle>
              <!-- index: {{ state.order = $index }} | id: {{ state.id }} | name: {{ state.name }} -->
              <div class="row">
                <div class="col-sm-10 content">
                  <span class="glyphicon glyphicon-move" aria-hidden="true"></span>
                  <h5>{{ state.name }} ({{ state.order = $index }})</h5>
                </div>
                <div class="col-sm-2 text-right">
                  <a data-no-drag class="btn exclude" ng-click="statesListCtrl.removeState(state.order)">
                    <span class="glyphicon glyphicon-remove"></span>
                  </a>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
